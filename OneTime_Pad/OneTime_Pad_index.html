<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>One-Time Pad</title>
    <link rel="stylesheet" href="../cypher_styles.css">
    <!-- <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
        }
    </style> -->
</head>
<body>
    <h2>One-Time Pad</h2>
    <label for="inputText">Enter Text:</label>
    <textarea id="inputText" rows="4" cols="50"></textarea>
    <br>
    <label for="key">Enter Key (same length as input):</label>
    <input type="text" id="key" maxlength="50" placeholder="KEY">
    <br>
    <button onclick="encrypt()">Encrypt</button>
    <button onclick="decrypt()">Decrypt</button>
    <br>
    <label for="outputText">Result:</label>
    <textarea id="outputText" rows="4" cols="50" readonly></textarea>

    <script>
        function xor(text, key) {
    let result = [];
    for (let i = 0; i < text.length; i++) {
        let charCodeText = text.charCodeAt(i);
        let charCodeKey = key.charCodeAt(i);
        let encryptedCharCode = charCodeText ^ charCodeKey;
        result.push(String.fromCharCode(encryptedCharCode));
    }
    return result.join('');
}

function encrypt() {
    let inputText = document.getElementById('inputText').value;
    let key = document.getElementById('key').value;

    if (inputText === '' || key === '') {
        alert("Input text or key cannot be empty.");
        return;
    }

    if (inputText.length !== key.length) {
        alert("Input and key lengths must be the same.");
        return;
    }

    let encryptedText = xor(inputText, key);
    document.getElementById('outputText').value = encryptedText;
}

function decrypt() {
    let inputText = document.getElementById('inputText').value;
    let key = document.getElementById('key').value;

    if (inputText === '' || key === '') {
        alert("Input text or key cannot be empty.");
        return;
    }

    if (inputText.length !== key.length) {
        alert("Input and key lengths must be the same.");
        return;
    }

    let decryptedText = xor(inputText, key);
    document.getElementById('outputText').value = decryptedText;
}    </script>
</body>
</html>
